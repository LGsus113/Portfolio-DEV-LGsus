---
import SectionScheme from "@/utils/Section-Scheme.astro";

import { formatYears } from "@/assets/js/Format-Time";
import { projects } from "@cv";

interface Project {
  name: string;
  description: string;
  startDate: string;
  endDate: string | null;
  url: string;
  highlights: string[];
  github: string;
}

const projectsTyped: Project[] = projects;
---

<SectionScheme id="" className="pb-16 gap-4">
  <header>
    <h1 class="text-2xl text-black font-bold">Proyectos</h1>
  </header>
  <div class="text-gray-900 grid grid-cols-1 md:grid-cols-2 gap-5">
    {
      projectsTyped.map(({ name, description, startDate, endDate, github }) => {
        const years = formatYears(startDate, endDate);

        return (
          <article class="flex flex-col gap-4 border border-gray-900/[.2] rounded-md p-4 shadow-sm shadow-black/[.3]">
            <header class="w-full h-auto flex flex-col gap-1">
              <div class="w-full h-auto flex flex-row items-center justify-between">
                <h1 class="text-lg text-black font-semibold">{name}</h1>
                <time class="text-md text-gray-900 font-semibold">{years}</time>
              </div>
              <p class="text-md text-gray-800 text-pretty">{description}</p>
            </header>
            <footer class="w-full h-auto flex flex-row items-center justify-end">
              <a
                href={github}
                target="_blank"
                rel="noopener noreferrer"
                class="text-md text-gray-900 font-medium border border-gray-900 rounded-md px-2 py-1 opacity-50 hover:opacity-100 transition-all duration-200"
              >
                GitHub
              </a>
            </footer>
          </article>
        );
      })
    }
  </div>
</SectionScheme>
