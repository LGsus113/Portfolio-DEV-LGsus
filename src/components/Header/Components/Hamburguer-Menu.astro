---
import MenuHamburguer from "@/icons/menuHamburguer.astro";
---

<ul class="relative flex items-center text-base">
  <li>
    <button
      id="menu-button"
      type="button"
      class="inline-flex items-center justify-center p-2 w-10 h-10 text-sm text-white rounded-lg"
      aria-controls="navbar-hamburger"
      aria-expanded="false"
    >
      <span class="sr-only">Open main menu</span>
      <MenuHamburguer class="size-5" />
    </button>
  </li>
</ul>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const button = document.getElementById("menu-button");
    const menu = document.getElementById("navbar-hamburger");

    if (!button || !menu) return;

    const updateMenuState = () => {
      const isLgTailwind = window.innerWidth >= 1024;

      if (isLgTailwind) {
        button.setAttribute("aria-expanded", "false");
        menu.classList.add("hidden");
      }
    };

    button.addEventListener("click", () => {
      const isExpanded = button.getAttribute("aria-expanded") === "true";
      button.setAttribute("aria-expanded", isExpanded ? "false" : "true");
      menu.classList.toggle("hidden");
    });

    window.addEventListener("resize", updateMenuState);
    updateMenuState();
  });
</script>
