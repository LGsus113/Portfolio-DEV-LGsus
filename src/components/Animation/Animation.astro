---
import Presentation from "@/components/Main/Components/Presentation.astro";
import LGsusBGKNY from "@public/LGsus on PC KNY.webp";
import LogoLGsus from "@public/LogoLGsus.webp";
---

<div
  id="logo-mask"
  class="w-full h-screen flex justify-center items-center fixed"
>
  <div
    id="animation-contener"
    class="size-full flex justify-center items-center scale-115 top-0 z-50"
  >
    <img
      id="logo-animation"
      src={LogoLGsus.src}
      alt="logo"
      class="absolute z-20 w-60 top-16 drop-shadow-lg drop-shadow-black"
    />
    <div
      id="info-animation"
      class="w-2/3 h-auto overflow-hidden absolute bg-black/60 border border-white backdrop-blur-xs [box-shadow:inset_0_0_5px_3px_rgba(0,0,0,0.9),0_0_20px_rgba(0,0,0,0.85)] p-10 rounded-2xl"
    >
      <Presentation />
    </div>
    <img
      id="bg-animation"
      src={LGsusBGKNY.src}
      alt="jesus"
      class="size-full object-cover"
    />
  </div>
</div>

<style>
  #logo-mask {
    background: white;
    mask-image: url("/LogoLGsus.webp");
    mask-position: center 47%;
    mask-repeat: no-repeat;
    mask-size: clamp(5000vh, 3500%, 0vh);
  }
</style>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const tl = gsap.timeline({
    ease: "power2.out",
    scrollTrigger: {
      scrub: 1,
    },
  });

  tl.to("#animation-contener", { duration: 1, scale: 1 })
    .to("#info-animation", { opacity: 0, duration: 0.2 }, "<")
    .to("#logo-animation", { opacity: 0, duration: 0.1 }, "<")
    .to(
      "#logo-mask",
      {
        maskSize: "clamp(100vh, 20%, 20vh)",
        duration: 0.1,
      },
      0.01
    )
    .to(
      "#animation-contener",
      {
        opacity: 0,
        duration: 0.1,
      },
      0.01
    )
    .to(
      "#logo-mask",
      {
        opacity: 0,
        duration: 0.17,
      },
      0.1
    )
    .to(
      "#logo-mask",
      {
        y: -400,
        duration: 0.4,
      },
      0.095
    );
</script>
